(window.webpackJsonpmovies=window.webpackJsonpmovies||[]).push([[1],{12:function(e,t,a){"use strict";var r=a(18),n=a(19);const c=r.create();c.interceptors.request.use(e=>(e.headers.Authorization="Bearer ".concat(n.a.apiKey),e));const o=e=>({img:"https://image.tmdb.org/t/p/w500"+e.poster_path,title:e.title,details:"".concat(e.release_date," | ").concat(e.vote_average,"/10 (").concat(e.vote_count,")"),description:e.overview});var s=e=>{const t="?"+Object.keys(e).map(t=>"".concat(t,"=").concat(e[t],"&")).join("");return c.get("/search/movie"+t).then(e=>e.data.results).then(e=>e.map(o))};a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return f}));const i="request movies",l="fetch movies success",u="fetch movies error",d="set selected movies",m=e=>t=>(t({type:i}),s(e).then(e=>t((e=>({type:l,movies:e}))(e)),e=>t((e=>({type:u,error:e}))(e)))),f=e=>({type:d,index:e})},19:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r={apiUrl:"https://api.themoviedb.org/4",apiKey:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxODQxN2IxYjA5MDFiMGMzYjhlYzQ4NmNhODQ1NjliZSIsInN1YiI6IjVjZDQzNTA4OTI1MTQxMDMyMzNiODA5NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jP-9oG4--p9q252sb-d61xXHIwdQZvs8aiEs67fHpTg",databaseUrl:"https://films-5f1b9.firebaseio.com/"}},26:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=()=>n.a.createElement("div",{style:{minHeight:"100vh"},className:"d-flex flex-row justify-content-center align-items-center w-100"},n.a.createElement("img",{alt:"loading gif",src:"https://i.redd.it/ounq1mw5kdxy.gif"}))},27:function(e,t,a){"use strict";var r=a(12);a.d(t,"b",(function(){return r.e})),a.d(t,"c",(function(){return r.f}));var n=a(9);a.d(t,"a",(function(){return n.g})),a.d(t,"d",(function(){return n.h})),a.d(t,"e",(function(){return n.i}))},42:function(e,t,a){e.exports=a(69)},47:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),o=a.n(c),s=(a(47),a(13));class i extends r.Component{render(){return n.a.createElement("header",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement("a",{className:"navbar-brand",href:"/"},"AlloMovie"),n.a.createElement("button",{className:"navbar-toggler"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/films",className:"nav-link",activeClassName:"active"}," Home ")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/favoris",className:"nav-link",activeClassName:"active"}," Favoris ")))))}}a(26);var l=a(2),u=a(24),d=a.n(u),m=a(16),f=a(27);const v=d()({loader:()=>Promise.all([a.e(0),a.e(4),a.e(6)]).then(a.bind(null,91)),loading:()=>n.a.createElement("h1",null,"Loading ...")}),b=d()({loader:()=>Promise.all([a.e(0),a.e(5)]).then(a.bind(null,92)),loading:()=>n.a.createElement("h1",null,"Loading ...")});class p extends r.Component{componentDidMount(){this.props.fetchFavoris()}render(){return n.a.createElement("div",{className:"App d-flex flex-column"},n.a.createElement(i,null),n.a.createElement(l.d,null,n.a.createElement(l.b,{path:"/films",component:v}),n.a.createElement(l.b,{path:"/favoris",component:b}),n.a.createElement(l.a,{to:"/films"})))}}var h=Object(l.g)(Object(m.b)(null,{fetchFavoris:f.a})(p)),g=a(11),j=a(3),O=a(12),y=a(9),E={movies:(e={data:[],isLoading:!1,error:null,selectedMovie:0},t)=>{switch(t.type){case O.c:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case O.b:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,error:null,data:[...t.movies]});case O.a:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,error:t.error});case O.d:return Object(j.a)(Object(j.a)({},e),{},{selectedMovie:t.index});default:return e}},favoris:(e={data:[],isLoading:!1,error:null},t)=>{switch(t.type){case y.d:return Object(j.a)(Object(j.a)({},e),{},{data:t.favoris,isLoading:!1,error:null});case y.c:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,error:t.error});case y.f:case y.b:return Object(j.a)(Object(j.a)({},e),{},{data:t.favoris,error:null});case y.e:case y.a:return Object(j.a)(Object(j.a)({},e),{},{error:t.error});default:return e}}},N=(a(68),a(38)),x=a(39);const I=Object(g.combineReducers)(E),w=[x.a];const M=Object(g.createStore)(I,Object(N.composeWithDevTools)(Object(g.applyMiddleware)(...w)));o.a.render(n.a.createElement(m.a,{store:M},n.a.createElement(s.a,null,n.a.createElement(h,null))),document.getElementById("root"))},9:function(e,t,a){"use strict";var r=a(18),n=a(19);const c=r.create({baseURL:"".concat(n.a.databaseUrl)});var o=()=>c.get("favoris.json").then(e=>e.data?e.data:[]),s=e=>c.put("favoris.json",e);a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return p}));const i="fetch favoris success",l="fetch favoris error",u="add favoris success",d="add favoris error",m="remove favoris success",f="remove favoris error",v=()=>e=>(e({type:"request favoris"}),o().then(t=>e((e=>({type:i,favoris:e}))(t)),t=>e((e=>({type:l,error:e}))(t)))),b=e=>(t,a)=>{const r=[...a().favoris.data,e];return s(r).then(()=>t((e=>({type:u,favoris:e}))(r)),e=>t((e=>({type:d,error:e}))(e)))},p=e=>(t,a)=>{const r=[...a().favoris.data],n=r.findIndex(t=>t.title===e);return r.splice(n,1),s(r).then(()=>t((e=>({type:m,favoris:e}))(r)),e=>t((e=>({type:f,error:e}))(e)))}}},[[42,2,3]]]);
//# sourceMappingURL=main.fe9d59e1.chunk.js.map